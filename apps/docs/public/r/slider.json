{
  "name": "slider",
  "type": "registry:ui",
  "title": "Slider",
  "description": "A range slider component with drag support.",
  "registryDependencies": [],
  "dependencies": [],
  "files": [
    {
      "path": "components/ui/slider.tsx",
      "type": "registry:ui",
      "content": "import { cn } from '@/lib/utils';\nimport * as React from 'react';\nimport { LayoutChangeEvent, PanResponder, Platform, View } from 'react-native';\n\ninterface SliderProps {\n  value?: number;\n  onValueChange?: (value: number) => void;\n  min?: number;\n  max?: number;\n  step?: number;\n  disabled?: boolean;\n  className?: string;\n}\n\nfunction clamp(value: number, min: number, max: number) {\n  'worklet';\n  return Math.min(Math.max(value, min), max);\n}\n\nfunction snapToStep(value: number, min: number, max: number, step: number) {\n  const snapped = Math.round((value - min) / step) * step + min;\n  return clamp(snapped, min, max);\n}\n\nfunction Slider({\n  value = 0,\n  onValueChange,\n  min = 0,\n  max = 100,\n  step = 1,\n  disabled = false,\n  className,\n}: SliderProps) {\n  const trackRef = React.useRef<View>(null);\n  const trackWidth = React.useRef(0);\n  const trackPageX = React.useRef(0);\n\n  const percentage = max !== min ? ((clamp(value, min, max) - min) / (max - min)) * 100 : 0;\n\n  const handleLayout = React.useCallback((event: LayoutChangeEvent) => {\n    trackWidth.current = event.nativeEvent.layout.width;\n  }, []);\n\n  const getValueFromPosition = React.useCallback(\n    (pageX: number) => {\n      const width = trackWidth.current;\n      if (width === 0) return value;\n      const positionRatio = clamp((pageX - trackPageX.current) / width, 0, 1);\n      const rawValue = min + positionRatio * (max - min);\n      return snapToStep(rawValue, min, max, step);\n    },\n    [min, max, step, value]\n  );\n\n  const panResponder = React.useMemo(\n    () =>\n      PanResponder.create({\n        onStartShouldSetPanResponder: () => !disabled,\n        onMoveShouldSetPanResponder: () => !disabled,\n        onPanResponderGrant: (evt) => {\n          trackRef.current?.measureInWindow((x) => {\n            trackPageX.current = x;\n            const newValue = getValueFromPosition(evt.nativeEvent.pageX);\n            onValueChange?.(newValue);\n          });\n        },\n        onPanResponderMove: (evt) => {\n          const newValue = getValueFromPosition(evt.nativeEvent.pageX);\n          onValueChange?.(newValue);\n        },\n        onPanResponderRelease: (evt) => {\n          const newValue = getValueFromPosition(evt.nativeEvent.pageX);\n          onValueChange?.(newValue);\n        },\n      }),\n    [disabled, getValueFromPosition, onValueChange]\n  );\n\n  return (\n    <View\n      ref={trackRef}\n      className={cn(\n        'relative flex h-5 w-full touch-none flex-row items-center',\n        Platform.select({ web: 'select-none' }),\n        disabled && 'opacity-50',\n        className\n      )}\n      onLayout={handleLayout}\n      {...panResponder.panHandlers}\n      accessible\n      accessibilityRole=\"adjustable\"\n      accessibilityValue={{\n        min,\n        max,\n        now: value,\n      }}>\n      {/* Track */}\n      <View className=\"relative h-1.5 w-full overflow-hidden rounded-full bg-primary/20\">\n        {/* Fill */}\n        <View\n          className=\"absolute h-full rounded-full bg-primary\"\n          style={{ width: `${percentage}%` }}\n        />\n      </View>\n      {/* Thumb */}\n      <View\n        className={cn(\n          'absolute h-5 w-5 rounded-full border-2 border-primary bg-background shadow-md shadow-black/5',\n          Platform.select({\n            web: 'transition-[left] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring',\n          })\n        )}\n        style={{ left: `${percentage}%`, marginLeft: -10 }}\n      />\n    </View>\n  );\n}\n\nexport { Slider };\nexport type { SliderProps };\n"
    }
  ]
}
