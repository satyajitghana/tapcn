{
  "name": "phone-input",
  "type": "registry:ui",
  "title": "Phone Input",
  "description": "A phone input component.",
  "registryDependencies": [],
  "dependencies": [],
  "files": [
    {
      "path": "components/ui/phone-input.tsx",
      "type": "registry:ui",
      "content": "import { Icon } from '@/components/ui/icon';\nimport { cn } from '@/lib/utils';\nimport { ChevronDown } from 'lucide-react-native';\nimport * as React from 'react';\nimport { Platform, Pressable, Text, TextInput, View } from 'react-native';\n\ntype CountryData = {\n  code: string;\n  name: string;\n  dialCode: string;\n  flag: string;\n};\n\nconst COUNTRIES: CountryData[] = [\n  { code: 'US', name: 'United States', dialCode: '+1', flag: '\\u{1F1FA}\\u{1F1F8}' },\n  { code: 'GB', name: 'United Kingdom', dialCode: '+44', flag: '\\u{1F1EC}\\u{1F1E7}' },\n  { code: 'IN', name: 'India', dialCode: '+91', flag: '\\u{1F1EE}\\u{1F1F3}' },\n  { code: 'DE', name: 'Germany', dialCode: '+49', flag: '\\u{1F1E9}\\u{1F1EA}' },\n  { code: 'FR', name: 'France', dialCode: '+33', flag: '\\u{1F1EB}\\u{1F1F7}' },\n  { code: 'JP', name: 'Japan', dialCode: '+81', flag: '\\u{1F1EF}\\u{1F1F5}' },\n  { code: 'AU', name: 'Australia', dialCode: '+61', flag: '\\u{1F1E6}\\u{1F1FA}' },\n  { code: 'CA', name: 'Canada', dialCode: '+1', flag: '\\u{1F1E8}\\u{1F1E6}' },\n  { code: 'BR', name: 'Brazil', dialCode: '+55', flag: '\\u{1F1E7}\\u{1F1F7}' },\n  { code: 'MX', name: 'Mexico', dialCode: '+52', flag: '\\u{1F1F2}\\u{1F1FD}' },\n  { code: 'KR', name: 'South Korea', dialCode: '+82', flag: '\\u{1F1F0}\\u{1F1F7}' },\n  { code: 'IT', name: 'Italy', dialCode: '+39', flag: '\\u{1F1EE}\\u{1F1F9}' },\n  { code: 'ES', name: 'Spain', dialCode: '+34', flag: '\\u{1F1EA}\\u{1F1F8}' },\n  { code: 'NL', name: 'Netherlands', dialCode: '+31', flag: '\\u{1F1F3}\\u{1F1F1}' },\n  { code: 'SE', name: 'Sweden', dialCode: '+46', flag: '\\u{1F1F8}\\u{1F1EA}' },\n];\n\ntype PhoneInputProps = {\n  value?: string;\n  onChangeText?: (text: string) => void;\n  defaultCountry?: string;\n  onCountryChange?: (country: CountryData) => void;\n  disabled?: boolean;\n  className?: string;\n};\n\nconst PhoneInput = React.forwardRef<TextInput, PhoneInputProps>(\n  (\n    {\n      value,\n      onChangeText,\n      defaultCountry = 'US',\n      onCountryChange,\n      disabled = false,\n      className,\n    },\n    ref\n  ) => {\n    const [selectedCountry, setSelectedCountry] = React.useState<CountryData>(\n      () =>\n        COUNTRIES.find((c) => c.code === defaultCountry) ?? COUNTRIES[0]\n    );\n\n    const handleCountryPress = React.useCallback(() => {\n      if (disabled) return;\n      const currentIndex = COUNTRIES.findIndex(\n        (c) => c.code === selectedCountry.code\n      );\n      const nextIndex = (currentIndex + 1) % COUNTRIES.length;\n      const nextCountry = COUNTRIES[nextIndex];\n      setSelectedCountry(nextCountry);\n      onCountryChange?.(nextCountry);\n    }, [disabled, selectedCountry.code, onCountryChange]);\n\n    return (\n      <View\n        className={cn(\n          'border-input bg-background flex h-10 flex-row items-center rounded-md border shadow-sm shadow-black/5',\n          disabled && 'opacity-50',\n          className\n        )}\n      >\n        <Pressable\n          onPress={handleCountryPress}\n          disabled={disabled}\n          className={cn(\n            'border-input flex-row items-center justify-center gap-1 border-r px-3',\n            Platform.select({\n              web: 'cursor-pointer select-none',\n            })\n          )}\n        >\n          <Text className=\"text-base\">{selectedCountry.flag}</Text>\n          <Text className=\"text-foreground text-sm\">{selectedCountry.dialCode}</Text>\n          <Icon\n            as={ChevronDown}\n            className=\"text-muted-foreground\"\n            size={12}\n          />\n        </Pressable>\n        <TextInput\n          ref={ref}\n          value={value}\n          onChangeText={onChangeText}\n          keyboardType=\"phone-pad\"\n          editable={!disabled}\n          className={cn(\n            'text-foreground h-full flex-1 px-3 text-base leading-5',\n            Platform.select({\n              web: cn(\n                'placeholder:text-muted-foreground outline-none md:text-sm',\n                'focus-visible:outline-none'\n              ),\n              native: 'placeholder:text-muted-foreground/50',\n            })\n          )}\n          placeholder=\"Phone number\"\n        />\n      </View>\n    );\n  }\n);\n\nPhoneInput.displayName = 'PhoneInput';\n\nexport { PhoneInput };\nexport type { CountryData, PhoneInputProps };\n"
    }
  ]
}
