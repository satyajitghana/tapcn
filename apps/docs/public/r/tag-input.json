{
  "name": "tag-input",
  "type": "registry:ui",
  "title": "Tag Input",
  "description": "A tag input component.",
  "registryDependencies": [],
  "dependencies": [],
  "files": [
    {
      "path": "components/ui/tag-input.tsx",
      "type": "registry:ui",
      "content": "import { Icon } from '@/components/ui/icon';\nimport { cn } from '@/lib/utils';\nimport { X } from 'lucide-react-native';\nimport * as React from 'react';\nimport {\n  NativeSyntheticEvent,\n  Platform,\n  Pressable,\n  Text,\n  TextInput,\n  TextInputKeyPressEventData,\n  View,\n} from 'react-native';\n\ninterface TagInputProps {\n  tags: string[];\n  onTagsChange: (tags: string[]) => void;\n  placeholder?: string;\n  maxTags?: number;\n  disabled?: boolean;\n  className?: string;\n}\n\nfunction TagInput({\n  tags,\n  onTagsChange,\n  placeholder = 'Add tag...',\n  maxTags,\n  disabled = false,\n  className,\n}: TagInputProps) {\n  const [inputValue, setInputValue] = React.useState('');\n  const inputRef = React.useRef<TextInput>(null);\n\n  const addTag = React.useCallback(\n    (text: string) => {\n      const trimmed = text.trim();\n      if (!trimmed) return;\n      if (tags.includes(trimmed)) return;\n      if (maxTags !== undefined && tags.length >= maxTags) return;\n      onTagsChange([...tags, trimmed]);\n      setInputValue('');\n    },\n    [tags, onTagsChange, maxTags]\n  );\n\n  const removeTag = React.useCallback(\n    (index: number) => {\n      onTagsChange(tags.filter((_, i) => i !== index));\n    },\n    [tags, onTagsChange]\n  );\n\n  const handleChangeText = React.useCallback(\n    (text: string) => {\n      if (text.includes(',')) {\n        const parts = text.split(',');\n        for (const part of parts) {\n          addTag(part);\n        }\n        return;\n      }\n      setInputValue(text);\n    },\n    [addTag]\n  );\n\n  const handleSubmitEditing = React.useCallback(() => {\n    addTag(inputValue);\n  }, [addTag, inputValue]);\n\n  const handleKeyPress = React.useCallback(\n    (e: NativeSyntheticEvent<TextInputKeyPressEventData>) => {\n      if (e.nativeEvent.key === 'Backspace' && inputValue === '') {\n        removeTag(tags.length - 1);\n      }\n    },\n    [inputValue, removeTag, tags.length]\n  );\n\n  const isMaxReached = maxTags !== undefined && tags.length >= maxTags;\n\n  return (\n    <Pressable\n      onPress={() => inputRef.current?.focus()}\n      disabled={disabled}\n      className={cn(\n        'border-input bg-background min-h-[40px] flex-row flex-wrap items-center gap-2 rounded-md border px-3 py-2',\n        disabled &&\n          cn(\n            'opacity-50',\n            Platform.select({\n              web: 'cursor-not-allowed',\n            })\n          ),\n        className\n      )}>\n      {tags.map((tag, index) => (\n        <View\n          key={`${tag}-${index}`}\n          className=\"bg-secondary flex-row items-center gap-1 rounded-full px-2.5 py-1\">\n          <Text className=\"text-secondary-foreground text-sm\">{tag}</Text>\n          {!disabled && (\n            <Pressable\n              onPress={() => removeTag(index)}\n              hitSlop={4}\n              className={cn(\n                'active:opacity-100',\n                Platform.select({\n                  web: 'cursor-pointer rounded-full',\n                })\n              )}\n              role=\"button\"\n              aria-label={`Remove ${tag}`}>\n              <Icon\n                as={X}\n                className=\"text-secondary-foreground/70 active:text-secondary-foreground size-3\"\n              />\n            </Pressable>\n          )}\n        </View>\n      ))}\n      {!isMaxReached && (\n        <TextInput\n          ref={inputRef}\n          value={inputValue}\n          onChangeText={handleChangeText}\n          onSubmitEditing={handleSubmitEditing}\n          onKeyPress={handleKeyPress}\n          placeholder={placeholder}\n          editable={!disabled}\n          blurOnSubmit={false}\n          className={cn(\n            'text-foreground min-w-[80px] flex-1 border-0 text-base',\n            Platform.select({\n              web: 'placeholder:text-muted-foreground outline-none',\n              native: 'placeholder:text-muted-foreground',\n            })\n          )}\n        />\n      )}\n    </Pressable>\n  );\n}\n\nexport { TagInput };\nexport type { TagInputProps };\n"
    }
  ]
}
