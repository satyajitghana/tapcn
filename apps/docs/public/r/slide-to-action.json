{
  "name": "slide-to-action",
  "type": "registry:ui",
  "title": "Slide To Action",
  "description": "A slide to action component.",
  "registryDependencies": [],
  "dependencies": [],
  "files": [
    {
      "path": "components/ui/slide-to-action.tsx",
      "type": "registry:ui",
      "content": "import { Icon } from '@/components/ui/icon';\nimport { cn } from '@/lib/utils';\nimport { ChevronsRight } from 'lucide-react-native';\nimport * as React from 'react';\nimport { LayoutChangeEvent, PanResponder, Platform, Text, View } from 'react-native';\nimport Animated, { useAnimatedStyle, useSharedValue, withSpring, withTiming } from 'react-native-reanimated';\n\nconst THUMB_SIZE = 48;\nconst THUMB_MARGIN = 4;\nconst COMPLETION_THRESHOLD = 0.8;\n\ninterface SlideToActionProps {\n  onSlideComplete: () => void;\n  label?: string;\n  completedLabel?: string;\n  icon?: React.ReactNode;\n  disabled?: boolean;\n  className?: string;\n}\n\nfunction SlideToAction({\n  onSlideComplete,\n  label = 'Slide to confirm',\n  completedLabel = 'Confirmed',\n  icon,\n  disabled = false,\n  className,\n}: SlideToActionProps) {\n  const [completed, setCompleted] = React.useState(false);\n  const trackWidth = React.useRef(0);\n  const translateX = useSharedValue(0);\n\n  const maxSlide = React.useCallback(() => {\n    return Math.max(0, trackWidth.current - THUMB_SIZE - THUMB_MARGIN * 2);\n  }, []);\n\n  const handleLayout = React.useCallback((event: LayoutChangeEvent) => {\n    trackWidth.current = event.nativeEvent.layout.width;\n  }, []);\n\n  const panResponder = React.useMemo(\n    () =>\n      PanResponder.create({\n        onStartShouldSetPanResponder: () => !disabled && !completed,\n        onMoveShouldSetPanResponder: (_, gestureState) =>\n          !disabled && !completed && Math.abs(gestureState.dx) > 5,\n        onPanResponderGrant: () => {\n          // No-op, just capture the gesture\n        },\n        onPanResponderMove: (_, gestureState) => {\n          const max = maxSlide();\n          const clamped = Math.min(Math.max(0, gestureState.dx), max);\n          translateX.value = clamped;\n        },\n        onPanResponderRelease: (_, gestureState) => {\n          const max = maxSlide();\n          const ratio = gestureState.dx / max;\n\n          if (ratio >= COMPLETION_THRESHOLD) {\n            translateX.value = withTiming(max, { duration: 150 });\n            setCompleted(true);\n            onSlideComplete();\n          } else {\n            translateX.value = withSpring(0, {\n              damping: 20,\n              stiffness: 200,\n            });\n          }\n        },\n      }),\n    [disabled, completed, maxSlide, translateX, onSlideComplete]\n  );\n\n  const thumbAnimatedStyle = useAnimatedStyle(() => ({\n    transform: [{ translateX: translateX.value }],\n  }));\n\n  const fillAnimatedStyle = useAnimatedStyle(() => ({\n    width: translateX.value + THUMB_SIZE + THUMB_MARGIN,\n  }));\n\n  return (\n    <View\n      className={cn(\n        'relative h-14 overflow-hidden rounded-full',\n        completed ? 'bg-primary' : 'bg-muted',\n        disabled && 'opacity-50',\n        className\n      )}\n      onLayout={handleLayout}\n    >\n      {/* Fill */}\n      <Animated.View\n        className={cn('absolute bottom-0 left-0 top-0 rounded-full', completed ? 'bg-primary' : 'bg-primary/20')}\n        style={fillAnimatedStyle}\n      />\n\n      {/* Label */}\n      <View\n        className=\"absolute bottom-0 left-0 right-0 top-0 items-center justify-center\"\n        pointerEvents=\"none\"\n      >\n        <Text\n          className={cn(\n            'text-sm font-medium',\n            completed ? 'text-primary-foreground' : 'text-muted-foreground',\n            Platform.select({ web: 'select-none' })\n          )}\n        >\n          {completed ? completedLabel : label}\n        </Text>\n      </View>\n\n      {/* Thumb */}\n      <Animated.View\n        className=\"absolute left-1 top-1 h-12 w-12 items-center justify-center rounded-full bg-primary\"\n        style={thumbAnimatedStyle}\n        {...panResponder.panHandlers}\n      >\n        {icon ?? (\n          <Icon\n            as={ChevronsRight}\n            size={24}\n            className=\"text-primary-foreground\"\n          />\n        )}\n      </Animated.View>\n    </View>\n  );\n}\n\nexport { SlideToAction };\nexport type { SlideToActionProps };\n"
    }
  ]
}
