{
  "name": "snackbar",
  "type": "registry:ui",
  "title": "Snackbar",
  "description": "A snackbar component.",
  "registryDependencies": [],
  "dependencies": [],
  "files": [
    {
      "path": "components/ui/snackbar.tsx",
      "type": "registry:ui",
      "content": "import { cn } from '@/lib/utils';\nimport * as React from 'react';\nimport { Pressable, Text, View } from 'react-native';\nimport Animated, { SlideInDown, SlideOutDown } from 'react-native-reanimated';\n\ninterface SnackbarData {\n  id: string;\n  message: string;\n  action?: { label: string; onPress: () => void };\n  duration?: number;\n}\n\ninterface SnackbarContextType {\n  snackbars: SnackbarData[];\n  snackbar: (data: Omit<SnackbarData, 'id'>) => void;\n  dismiss: (id: string) => void;\n}\n\nconst SnackbarContext = React.createContext<SnackbarContextType | undefined>(undefined);\n\nfunction useSnackbar() {\n  const context = React.useContext(SnackbarContext);\n  if (!context) {\n    throw new Error('useSnackbar must be used within a SnackbarProvider');\n  }\n  return context;\n}\n\nfunction SnackbarProvider({ children }: { children: React.ReactNode }) {\n  const [snackbars, setSnackbars] = React.useState<SnackbarData[]>([]);\n\n  const snackbar = React.useCallback((data: Omit<SnackbarData, 'id'>) => {\n    const id = Date.now().toString();\n    setSnackbars((prev) => [...prev, { ...data, id }]);\n    const duration = data.duration ?? 3000;\n    setTimeout(() => {\n      setSnackbars((prev) => prev.filter((s) => s.id !== id));\n    }, duration);\n  }, []);\n\n  const dismiss = React.useCallback((id: string) => {\n    setSnackbars((prev) => prev.filter((s) => s.id !== id));\n  }, []);\n\n  return (\n    <SnackbarContext.Provider value={{ snackbars, snackbar, dismiss }}>\n      {children}\n      <SnackbarViewport />\n    </SnackbarContext.Provider>\n  );\n}\n\nfunction Snackbar({\n  snackbar: data,\n  onDismiss,\n}: {\n  snackbar: SnackbarData;\n  onDismiss: () => void;\n}) {\n  return (\n    <Animated.View entering={SlideInDown} exiting={SlideOutDown}>\n      <Pressable onPress={onDismiss}>\n        <View\n          className={cn(\n            'flex-row items-center justify-between bg-foreground rounded-lg px-4 py-3 shadow-lg shadow-black/10 gap-3'\n          )}\n        >\n          <Text className={cn('text-sm text-background flex-1')}>{data.message}</Text>\n          {data.action ? (\n            <Pressable\n              onPress={(e) => {\n                e.stopPropagation();\n                data.action?.onPress();\n              }}\n            >\n              <Text className={cn('text-sm font-semibold text-primary')}>{data.action.label}</Text>\n            </Pressable>\n          ) : null}\n        </View>\n      </Pressable>\n    </Animated.View>\n  );\n}\n\nfunction SnackbarViewport() {\n  const { snackbars, dismiss } = useSnackbar();\n\n  if (snackbars.length === 0) {\n    return null;\n  }\n\n  return (\n    <View\n      className={cn('absolute bottom-0 left-0 right-0 z-50 p-4 gap-2')}\n      pointerEvents=\"box-none\"\n    >\n      {snackbars.map((s) => (\n        <Snackbar key={s.id} snackbar={s} onDismiss={() => dismiss(s.id)} />\n      ))}\n    </View>\n  );\n}\n\nexport { Snackbar, SnackbarProvider, useSnackbar };\nexport type { SnackbarContextType, SnackbarData };\n"
    }
  ]
}
