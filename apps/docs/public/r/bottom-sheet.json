{
  "name": "bottom-sheet",
  "type": "registry:ui",
  "title": "Bottom Sheet",
  "description": "A bottom sheet component.",
  "registryDependencies": [],
  "dependencies": [],
  "files": [
    {
      "path": "components/ui/bottom-sheet.tsx",
      "type": "registry:ui",
      "content": "import { TextClassContext } from '@/components/ui/text';\nimport { cn } from '@/lib/utils';\nimport * as React from 'react';\nimport { Dimensions, Modal, PanResponder, Platform, Pressable, Text, View } from 'react-native';\nimport Animated, { FadeIn, FadeOut, SlideInDown, SlideOutDown } from 'react-native-reanimated';\n\nconst SCREEN_HEIGHT = Dimensions.get('window').height;\nconst DISMISS_THRESHOLD = 100;\n\ninterface BottomSheetContextType {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nconst BottomSheetContext = React.createContext<BottomSheetContextType | undefined>(undefined);\n\nfunction useBottomSheet() {\n  const context = React.useContext(BottomSheetContext);\n  if (!context) {\n    throw new Error('BottomSheet compound components must be used within a <BottomSheet /> parent.');\n  }\n  return context;\n}\n\nfunction BottomSheet({\n  open,\n  onOpenChange,\n  children,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  children: React.ReactNode;\n}) {\n  return (\n    <BottomSheetContext.Provider value={{ open, onOpenChange }}>\n      {children}\n    </BottomSheetContext.Provider>\n  );\n}\n\nfunction BottomSheetContent({\n  className,\n  children,\n}: {\n  className?: string;\n  children: React.ReactNode;\n}) {\n  const { open, onOpenChange } = useBottomSheet();\n\n  const panResponder = React.useRef(\n    PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onMoveShouldSetPanResponder: (_, gestureState) => {\n        return gestureState.dy > 5;\n      },\n      onPanResponderRelease: (_, gestureState) => {\n        if (gestureState.dy > DISMISS_THRESHOLD) {\n          onOpenChange(false);\n        }\n      },\n    })\n  ).current;\n\n  if (!open) {\n    return null;\n  }\n\n  return (\n    <Modal visible={open} transparent animationType=\"none\" onRequestClose={() => onOpenChange(false)}>\n      <View className=\"flex-1 justify-end\">\n        <Animated.View\n          entering={FadeIn.duration(200)}\n          exiting={FadeOut.duration(150)}\n          className=\"absolute bottom-0 left-0 right-0 top-0\"\n        >\n          <Pressable\n            className=\"flex-1 bg-black/50\"\n            onPress={() => onOpenChange(false)}\n          />\n        </Animated.View>\n        <Animated.View\n          entering={SlideInDown.springify().damping(20).stiffness(140)}\n          exiting={SlideOutDown.duration(200)}\n          className={cn(\n            'bg-background rounded-t-2xl pb-8',\n            Platform.select({\n              web: 'shadow-lg shadow-black/10',\n            }),\n            className\n          )}\n          style={{ maxHeight: SCREEN_HEIGHT * 0.9 }}\n          {...panResponder.panHandlers}\n        >\n          {children}\n        </Animated.View>\n      </View>\n    </Modal>\n  );\n}\n\nfunction BottomSheetHandle({ className }: { className?: string }) {\n  return (\n    <View className={cn('items-center pb-2 pt-4', className)}>\n      <View className=\"h-1.5 w-10 rounded-full bg-muted-foreground/30\" />\n    </View>\n  );\n}\n\nfunction BottomSheetHeader({\n  className,\n  children,\n}: {\n  className?: string;\n  children: React.ReactNode;\n}) {\n  return (\n    <TextClassContext.Provider value=\"text-center\">\n      <View className={cn('flex flex-col gap-1.5 px-6 py-4', className)}>\n        {children}\n      </View>\n    </TextClassContext.Provider>\n  );\n}\n\nfunction BottomSheetTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof Text>) {\n  return (\n    <Text\n      role=\"heading\"\n      aria-level={2}\n      className={cn('text-foreground text-lg font-semibold', className)}\n      {...props}\n    />\n  );\n}\n\nfunction BottomSheetFooter({\n  className,\n  children,\n}: {\n  className?: string;\n  children: React.ReactNode;\n}) {\n  return (\n    <View className={cn('flex flex-col gap-2 px-6 pb-4', className)}>\n      {children}\n    </View>\n  );\n}\n\nexport {\n  BottomSheet,\n  BottomSheetContent,\n  BottomSheetFooter,\n  BottomSheetHandle,\n  BottomSheetHeader,\n  BottomSheetTitle,\n};\n"
    }
  ]
}
